# 华东师范大学图书馆座位自动预约脚本

# 配置

- 初次使用，需要以下参数
  1. （必须）学号及密码
  2. （不确定）微信账号openid，固定不变，抓一次包记录下来就可以了。尚不清楚这个参数是否必须，没有测试过。也就是说脚本当中的`addUser`方法是否必须要并不确定。
  3. （可选）qq邮箱开通SMTP服务（免费），得到一个授权码，用于向自己发送通知邮件

# 使用

1. 将参数填入脚本当中
2. 部署到服务器，使用`crontab`，添加定时任务
3. 如果起得比较早，可以将定时任务设置在早上7点，脚本会自动开始预约座位
4. 脚本默认预约明天的座位，可以修改`autoGrabSeat`函数，不让日期增加一天
5. 关于`autoGrabSeat`函数，可以适当修改。绑定后不需要重复绑定，每次执行login就行，不需要removeUser和addUser。当然前提是已经绑定过了。

# 适用场景

- 适用于每天早上抢座的同学，将定时任务设置在早上7点，脚本会根据配置好的座位，自动开始预约明天的座位
- 其他时间段抢座需要设置间隔请求，目前还没有做这个功能，不过也简单

# 拓展

核心功能已经实现，推荐做后续开发：

2. 开发临时签离功能，每天中午11点和下午5点定时签离，避免忘记签离导致的座位被释放（今天就忘了，回去的时候座位已经被预约了，但是还没有人去我那位置，不知道是在观望还是干嘛，我只好溜了）
2. 根据预约历史，对数据进行可视化展示，还可以做一个图书馆预约年终总结什么的东西。不过我猜这个信息只会保留几天之内的。因为这个函数的请求参数就必须的两个，没有请求页数、日期范围等参数，所以猜测只能获取到最近几次的预约历史

# 提示

- 仅限华东师范大学学生交流学习，使用时请遵守学校各项管理规定、规范制度